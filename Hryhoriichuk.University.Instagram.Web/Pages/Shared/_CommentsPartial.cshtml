@model Hryhoriichuk.University.Instagram.Web.Models.PostInfo

<style>
    .comment-list {
        max-height: 300px;
        overflow-y: auto;
    }

    .media {
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
    }

        .media img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }

    .post-username {
        color: inherit;
        text-decoration: none;
    }
</style>


<div>
    <h3>Comments</h3>
    <div class="comment-list" style="max-height: 300px; overflow-y: auto;">
        <ul class="list-unstyled">
            @foreach (var comment in Model.Comments)
            {
                <li class="media mb-2">
                    <div class="media-body">
                        <div class="row">
                            <div class="col-auto pr-0">
                                <a href="/Profile/@comment.User.UserName">
                                <img src="@comment.User.ProfilePicturePath" class="rounded-circle" alt="Profile Picture" style="width: 50px; height: 50px;"></a>
                            </div>
                            <div class="col pl-0">
                                <div class="d-flex align-items-start mb-1">
                                    <h5 class="mt-0">@comment.User.UserName</h5>
                                </div>
                                <p class="mb-0">@comment.Text</p>
                            </div>
                        </div>
                    </div>
                </li>
            }
        </ul>
    </div>
    <div class="comment-input">
        <form asp-action="AddComment" asp-controller="Post">
            <input type="hidden" name="postId" value="@Model.Post.Id">
            <div class="form-group">
                <textarea class="form-control" name="commentText" rows="3" placeholder="Add a comment"></textarea>
            </div>
            <button type="submit" class="btn btn-primary mt-2">Comment</button>
        </form>
    </div>
</div>
